---
title: å‡½æ•°å¼ç¼–ç¨‹
type: SHORT_ANSWER
date: 2020-5-06 18:10:20
---

å‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§ ç¼–ç¨‹èŒƒå¼ï¼Œä½ å¯ä»¥ç†è§£ä¸ºä¸€ç§è½¯ä»¶æ¶æ„çš„æ€ç»´æ¨¡å¼ã€‚å®ƒæœ‰ç€ç‹¬ç«‹ä¸€å¥—ç†è®ºåŸºç¡€ä¸è¾¹ç•Œæ³•åˆ™ï¼Œè¿½æ±‚çš„æ˜¯ æ›´ç®€æ´ã€å¯é¢„æµ‹ã€é«˜å¤ç”¨ã€æ˜“æµ‹è¯•ã€‚å…¶å®åœ¨ç°æœ‰çš„ä¼—å¤šçŸ¥ååº“ä¸­ï¼Œéƒ½è•´å«ç€ä¸°å¯Œçš„å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼Œå¦‚ React / Redux ç­‰ã€‚

- å¸¸è§çš„ç¼–ç¨‹èŒƒå¼:

  - å‘½ä»¤å¼ç¼–ç¨‹(è¿‡ç¨‹åŒ–ç¼–ç¨‹): æ›´å…³å¿ƒè§£å†³é—®é¢˜çš„æ­¥éª¤ï¼Œä¸€æ­¥æ­¥ä»¥è¯­è¨€çš„å½¢å¼å‘Šè¯‰è®¡ç®—æœºåšä»€ä¹ˆï¼›
  - äº‹ä»¶é©±åŠ¨ç¼–ç¨‹: äº‹ä»¶è®¢é˜…ä¸è§¦å‘ï¼Œè¢«å¹¿æ³›ç”¨äº GUI çš„ç¼–ç¨‹è®¾è®¡ä¸­ï¼›
  - é¢å‘å¯¹è±¡ç¼–ç¨‹: åŸºäºç±»ã€å¯¹è±¡ä¸æ–¹æ³•çš„è®¾è®¡æ¨¡å¼ï¼Œæ‹¥æœ‰ä¸‰ä¸ªåŸºç¡€æ¦‚å¿µ: å°è£…æ€§ã€ç»§æ‰¿æ€§ã€å¤šæ€æ€§ï¼›
  - å‡½æ•°å¼ç¼–ç¨‹
    - æ¢æˆä¸€ç§æ›´é«˜ç«¯çš„è¯´æ³•ï¼Œé¢å‘æ•°å­¦ç¼–ç¨‹ã€‚æ€•ä¸æ€•~ğŸ¥´

- å‡½æ•°å¼ç¼–ç¨‹çš„ç†å¿µ:

  - çº¯å‡½æ•°(ç¡®å®šæ€§å‡½æ•°): æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„åŸºç¡€ï¼Œå¯ä»¥ä½¿ç¨‹åºå˜å¾—çµæ´»ï¼Œé«˜åº¦å¯æ‹“å±•ï¼Œå¯ç»´æŠ¤ï¼›

    - ä¼˜åŠ¿:

      - å®Œå…¨ç‹¬ç«‹ï¼Œä¸å¤–éƒ¨è§£è€¦ï¼›
      - é«˜åº¦å¯å¤ç”¨ï¼Œåœ¨ä»»æ„ä¸Šä¸‹æ–‡ï¼Œä»»æ„æ—¶é—´çº¿ä¸Šï¼Œéƒ½å¯æ‰§è¡Œå¹¶ä¸”ä¿è¯ç»“æœç¨³å®šï¼›
      - å¯æµ‹è¯•æ€§æå¼ºï¼›

    - æ¡ä»¶:

      - ä¸ä¿®æ”¹å‚æ•°ï¼›
      - ä¸ä¾èµ–ã€ä¸ä¿®æ”¹ä»»ä½•å‡½æ•°å¤–éƒ¨çš„æ•°æ®ï¼›
      - å®Œå…¨å¯æ§ï¼Œå‚æ•°ä¸€æ ·ï¼Œè¿”å›å€¼ä¸€å®šä¸€æ ·: ä¾‹å¦‚å‡½æ•°ä¸èƒ½åŒ…å« new Date()æˆ–è€… Math.rando()ç­‰è¿™ç§ä¸å¯æ§å› ç´ ï¼›
      - å¼•ç”¨é€æ˜ï¼›

    - æˆ‘ä»¬å¸¸ç”¨åˆ°çš„è®¸å¤š API æˆ–è€…å·¥å…·å‡½æ•°ï¼Œå®ƒä»¬éƒ½å…·æœ‰ç€çº¯å‡½æ•°çš„ç‰¹ç‚¹ï¼Œ å¦‚ split / join / mapï¼›

  - å‡½æ•°å¤åˆ: å°†å¤šä¸ªå‡½æ•°è¿›è¡Œç»„åˆåè°ƒç”¨ï¼Œå¯ä»¥å®ç°å°†ä¸€ä¸ªä¸ªå‡½æ•°å•å…ƒè¿›è¡Œç»„åˆï¼Œè¾¾æˆæœ€åçš„ç›®æ ‡ï¼›

    - æ‰å¹³åŒ–åµŒå¥—: é¦–å…ˆï¼Œæˆ‘ä»¬ä¸€å®šèƒ½æƒ³åˆ°ç»„åˆå‡½æ•°æœ€ç®€å•çš„æ“ä½œå°±æ˜¯ åŒ…è£¹ï¼Œå› ä¸ºåœ¨ JS ä¸­ï¼Œå‡½æ•°ä¹Ÿå¯ä»¥å½“åšå‚æ•°:

      - f(g(k(x))): åµŒå¥—åœ°ç‹±ï¼Œå¯è¯»æ€§ä½ï¼Œå½“å‡½æ•°å¤æ‚åï¼Œå®¹æ˜“è®©äººä¸€è„¸æ‡µé€¼ï¼›
      - ç†æƒ³çš„åšæ³•: xxx(f, g, k)(x)

    - ç»“æœä¼ é€’: å¦‚æœæƒ³å®ç°ä¸Šé¢çš„æ–¹å¼ï¼Œé‚£ä¹Ÿå°±æ˜¯ xxx å‡½æ•°è¦å®ç°çš„ä¾¿æ˜¯: æ‰§è¡Œç»“æœåœ¨å„ä¸ªå‡½æ•°ä¹‹é—´çš„æ‰§è¡Œä¼ é€’ï¼›

      - è¿™æ—¶æˆ‘ä»¬å°±èƒ½æƒ³åˆ°ä¸€ä¸ªåŸç”Ÿæä¾›çš„æ•°ç»„æ–¹æ³•: reduceï¼Œå®ƒå¯ä»¥æŒ‰æ•°ç»„çš„é¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œä¼ é€’æ‰§è¡Œç»“æœï¼›
      - æ‰€ä»¥æˆ‘ä»¬å°±èƒ½å¤Ÿå®ç°ä¸€ä¸ªæ–¹æ³• pipeï¼Œç”¨äºå‡½æ•°ç»„åˆ:

      ```js
      // ...fs: å°†å‡½æ•°ç»„åˆæˆæ•°ç»„ï¼›
      // Array.prototype.reduce è¿›è¡Œç»„åˆï¼›
      // p: åˆå§‹å‚æ•°ï¼›
      const pipe =
        (...fs) =>
        (p) =>
          fs.reduce((v, f) => f(v), p);
      ```

  - ä½¿ç”¨: å®ç°ä¸€ä¸ª é©¼å³°å‘½å è½¬ ä¸­åˆ’çº¿å‘½å çš„åŠŸèƒ½:

    ```js
    // 'Guo DongDong' --> 'guo-dongdong'
    // å‡½æ•°ç»„åˆå¼å†™æ³•
    const toLowerCase = (str) => str.toLowerCase();
    const join = curry((str, arr) => arr.join(str));
    const split = curry((splitOn, str) => str.split(splitOn));

    const toSlug = pipe(toLowerCase, split(' '), join('_'), encodeURIComponent);
    console.log(toSlug('Guo DongDong'));
    ```

- å¥½å¤„:

  - éšè—ä¸­é—´å‚æ•°ï¼Œä¸éœ€è¦ä¸´æ—¶å˜é‡ï¼Œé¿å…äº†è¿™ä¸ªç¯èŠ‚çš„å‡ºé”™å‡ ç‡ï¼›
  - åªéœ€å…³æ³¨æ¯ä¸ªçº¯å‡½æ•°å•å…ƒçš„ç¨³å®šï¼Œä¸å†éœ€è¦å…³æ³¨å‘½åï¼Œä¼ é€’ï¼Œè°ƒç”¨ç­‰ï¼›
  - å¯å¤ç”¨æ€§å¼ºï¼Œä»»ä½•ä¸€ä¸ªå‡½æ•°å•å…ƒéƒ½å¯è¢«ä»»æ„å¤ç”¨å’Œç»„åˆï¼›
  - å¯æ‹“å±•æ€§å¼ºï¼Œæˆæœ¬ä½ï¼Œä¾‹å¦‚ç°åœ¨åŠ ä¸ªéœ€æ±‚ï¼Œè¦æŸ¥çœ‹æ¯ä¸ªç¯èŠ‚çš„è¾“å‡º:

  ```js
  const log = curry((label, x) => {
    console.log(`${label}: ${x}`);
    return x;
  });

  const toSlug = pipe(
    toLowerCase,
    log('toLowerCase output'),
    split(' '),
    log('split output'),
    join('_'),
    log('join output'),
    encodeURIComponent
  );
  ```

> Tips:
> ä¸€äº›å·¥å…·çº¯å‡½æ•°å¯ç›´æ¥å¼•ç”¨ lodash/fpï¼Œä¾‹å¦‚ curry/map/split ç­‰ï¼Œå¹¶ä¸éœ€è¦åƒæˆ‘ä»¬ä¸Šé¢è¿™æ ·è‡ªå·±å®ç°ï¼›

- æ•°æ®ä¸å¯å˜æ€§(immutable): è¿™æ˜¯ä¸€ç§æ•°æ®ç†å¿µï¼Œä¹Ÿæ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„æ ¸å¿ƒç†å¿µä¹‹ä¸€:

  - å€¡å¯¼: ä¸€ä¸ªå¯¹è±¡å†è¢«åˆ›å»ºåä¾¿ä¸ä¼šå†è¢«ä¿®æ”¹ã€‚å½“éœ€è¦æ”¹å˜å€¼æ—¶ï¼Œæ˜¯è¿”å›ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨åŸå¯¹è±¡ä¸Šä¿®æ”¹ï¼›
  - ç›®çš„: ä¿è¯æ•°æ®çš„ç¨³å®šæ€§ã€‚é¿å…ä¾èµ–çš„æ•°æ®è¢«æœªçŸ¥åœ°ä¿®æ”¹ï¼Œå¯¼è‡´äº†è‡ªèº«çš„æ‰§è¡Œå¼‚å¸¸ï¼Œèƒ½æœ‰æ•ˆæé«˜å¯æ§æ€§ä¸ç¨³å®šæ€§ï¼›
  - å¹¶ä¸ç­‰åŒäº constã€‚ä½¿ç”¨ const åˆ›å»ºä¸€ä¸ªå¯¹è±¡åï¼Œå®ƒçš„å±æ€§ä»ç„¶å¯ä»¥è¢«ä¿®æ”¹ï¼›
  - æ›´ç±»ä¼¼äº Object.freeze: å†»ç»“å¯¹è±¡ï¼Œä½† freeze ä»æ— æ³•ä¿è¯æ·±å±‚çš„å±æ€§ä¸è¢«ä¸²æ”¹ï¼›
  - immutable.js: js ä¸­çš„æ•°æ®ä¸å¯å˜åº“ï¼Œå®ƒä¿è¯äº†æ•°æ®ä¸å¯å˜ï¼Œåœ¨ React ç”Ÿæ€ä¸­è¢«å¹¿æ³›åº”ç”¨ï¼Œå¤§å¤§æå‡äº†æ€§èƒ½ä¸ç¨³å®šæ€§ï¼›

    - trie æ•°æ®ç»“æ„:

      - ä¸€ç§æ•°æ®ç»“æ„ï¼Œèƒ½æœ‰æ•ˆåœ°æ·±åº¦å†»ç»“å¯¹è±¡ï¼Œä¿è¯å…¶ä¸å¯å˜ï¼›
      - ç»“æ„å…±äº«: å¯ä»¥å…±ç”¨ä¸å¯å˜å¯¹è±¡çš„å†…å­˜å¼•ç”¨åœ°å€ï¼Œå‡å°‘å†…å­˜å ç”¨ï¼Œæé«˜æ•°æ®æ“ä½œæ€§èƒ½ï¼›

- é¿å…ä¸åŒå‡½æ•°ä¹‹é—´çš„ çŠ¶æ€å…±äº«ï¼Œæ•°æ®çš„ä¼ é€’ä½¿ç”¨å¤åˆ¶æˆ–å…¨æ–°å¯¹è±¡ï¼Œéµå®ˆæ•°æ®ä¸å¯å˜åŸåˆ™ï¼›

- é¿å…ä»å‡½æ•°å†…éƒ¨ æ”¹å˜å¤–éƒ¨çŠ¶æ€ï¼Œä¾‹å¦‚æ”¹å˜äº†å…¨å±€ä½œç”¨åŸŸæˆ–çˆ¶çº§ä½œç”¨åŸŸä¸Šçš„å˜é‡å€¼ï¼Œå¯èƒ½ä¼šå¯¼è‡´å…¶å®ƒå•ä½é”™è¯¯ï¼›

- é¿å…åœ¨å•å…ƒå‡½æ•°å†…éƒ¨æ‰§è¡Œä¸€äº› å‰¯ä½œç”¨ï¼Œåº”è¯¥å°†è¿™äº›æ“ä½œæŠ½ç¦»æˆæ›´ç‹¬ç«‹çš„å·¥å…·å•å…ƒï¼›

  - æ—¥å¿—è¾“å‡º
  - è¯»å†™æ–‡ä»¶
  - ç½‘ç»œè¯·æ±‚
  - è°ƒç”¨å¤–éƒ¨è¿›ç¨‹
  - è°ƒç”¨æœ‰å‰¯ä½œç”¨çš„å‡½æ•°

- é«˜é˜¶å‡½æ•°: æ˜¯æŒ‡ ä»¥å‡½æ•°ä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å¢å¼ºå‡½æ•° çš„ä¸€ç±»å‡½æ•°ï¼Œå®ƒé€šå¸¸ç”¨äº:

  - å°†é€»è¾‘è¡Œä¸ºè¿›è¡Œ éš”ç¦»æŠ½è±¡ï¼Œä¾¿äºå¿«é€Ÿå¤ç”¨ï¼Œå¦‚å¤„ç†æ•°æ®ï¼Œå…¼å®¹æ€§ç­‰ï¼›
  - å‡½æ•°ç»„åˆï¼Œå°†ä¸€ç³»åˆ—å•å…ƒå‡½æ•°åˆ—è¡¨ç»„åˆæˆåŠŸèƒ½æ›´å¼ºå¤§çš„å‡½æ•°ï¼›
  - å‡½æ•°å¢å¼ºï¼Œå¿«é€Ÿåœ°æ‹“å±•å‡½æ•°åŠŸèƒ½ï¼Œ

- å‡½æ•°å¼ç¼–ç¨‹çš„å¥½å¤„:

  - å‡½æ•°å‰¯ä½œç”¨å°ï¼Œæ‰€æœ‰å‡½æ•°ç‹¬ç«‹å­˜åœ¨ï¼Œæ²¡æœ‰ä»»ä½•è€¦åˆï¼Œå¤ç”¨æ€§æé«˜ï¼›
  - ä¸å…³æ³¨æ‰§è¡Œæ—¶é—´ï¼Œæ‰§è¡Œé¡ºåºï¼Œå‚æ•°ï¼Œå‘½åç­‰ï¼Œèƒ½ä¸“æ³¨äºæ•°æ®çš„æµåŠ¨ä¸å¤„ç†ï¼Œèƒ½æœ‰æ•ˆæé«˜ç¨³å®šæ€§ä¸å¥å£®æ€§ï¼›
  - è¿½æ±‚å•å…ƒåŒ–ï¼Œç²’åº¦åŒ–ï¼Œä½¿å…¶é‡æ„å’Œæ”¹é€ æˆæœ¬é™ä½ï¼Œå¯ç»´æŠ¤ã€å¯æ‹“å±•æ€§è¾ƒå¥½ï¼›
  - æ›´æ˜“äºåšå•å…ƒæµ‹è¯•ã€‚

- æ€»ç»“:

  - å‡½æ•°å¼ç¼–ç¨‹å…¶å®æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œå®ƒè¿½æ±‚æ›´ç»†çš„ç²’åº¦ï¼Œå°†åº”ç”¨æ‹†åˆ†æˆä¸€ç»„ç»„æå°çš„å•å…ƒå‡½æ•°ï¼Œç»„åˆè°ƒç”¨æ“ä½œæ•°æ®æµï¼›
  - å®ƒæå€¡ç€ çº¯å‡½æ•° / å‡½æ•°å¤åˆ / æ•°æ®ä¸å¯å˜ï¼Œ è°¨æ…å¯¹å¾…å‡½æ•°å†…çš„ çŠ¶æ€å…±äº« / ä¾èµ–å¤–éƒ¨ / å‰¯ä½œç”¨ï¼›

> Tips:
> å…¶å®æˆ‘ä»¬å¾ˆéš¾ä¹Ÿä¸éœ€è¦åœ¨é¢è¯•è¿‡ç¨‹ä¸­å»å®Œç¾åœ°é˜è¿°å‡ºæ•´å¥—æ€æƒ³ï¼Œè¿™é‡Œä¹Ÿåªæ˜¯æµ…å°è¾„æ­¢ï¼Œä¸€äº›ä¸ªäººç†è§£è€Œå·²ã€‚åšä¸»ä¹Ÿæ˜¯åˆçº§å°èœé¸Ÿï¼Œåœç•™åœ¨è¡¨é¢è€Œå·²ï¼Œåªæ±‚å¯¹å¤§å®¶èƒ½æœ‰æ‰€å¸®åŠ©ï¼Œè½»å–· ğŸ¤£ï¼›
> æˆ‘ä¸ªäººè§‰å¾—: è¿™äº›ç¼–ç¨‹èŒƒå¼ä¹‹é—´ï¼Œå…¶å®å¹¶ä¸çŸ›ç›¾ï¼Œå„æœ‰å„çš„ ä¼˜åŠ£åŠ¿ã€‚
> ç†è§£å’Œå­¦ä¹ å®ƒä»¬çš„ç†å¿µä¸ä¼˜åŠ¿ï¼Œåˆç†åœ° è®¾è®¡èåˆï¼Œå°†ä¼˜ç§€çš„è½¯ä»¶ç¼–ç¨‹æ€æƒ³ç”¨äºæå‡æˆ‘ä»¬åº”ç”¨ï¼›
> æ‰€æœ‰è®¾è®¡æ€æƒ³ï¼Œæœ€ç»ˆçš„ç›®æ ‡ä¸€å®šæ˜¯ä½¿æˆ‘ä»¬çš„åº”ç”¨æ›´åŠ  è§£è€¦é¢—ç²’åŒ–ã€æ˜“æ‹“å±•ã€æ˜“æµ‹è¯•ã€é«˜å¤ç”¨ï¼Œå¼€å‘æ›´ä¸ºé«˜æ•ˆå’Œå®‰å…¨ï¼›
> æœ‰ä¸€äº›åº“èƒ½è®©å¤§å®¶å¾ˆå¿«åœ°æ¥è§¦å’Œè¿ç”¨å‡½æ•°æ€æƒ³: Underscore.js / Lodash/fp / Rxjs ç­‰ã€‚

é“¾æ¥ï¼šhttps://juejin.cn/post/6844903801153945608
