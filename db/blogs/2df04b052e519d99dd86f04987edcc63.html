<div class="toc-article"><strong class="toc-title">Contents</strong><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#生成秘钥"><span class="toc-number">1.</span> <span class="toc-text">生成秘钥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置-vultr"><span class="toc-number">2.</span> <span class="toc-text">配置 Vultr</span></a></li></ol></div><h3 id="生成秘钥">生成秘钥</h3>
<p>在 mac 或 linux 上直接通过 ssh-keygen 来生成。</p>
<ul>
<li>在 terminal 中输入 ssh-keygen</li>
<li>确认秘钥位置</li>
<li>然后它会让你重复一个密码两次，如果不想在使用公钥的时候输入密码，可以留空</li>
<li>查看秘钥
id_rsa 为私钥，id_rsa.pub 为公钥。<pre><code>$ ls ~/.ssh
=&gt; id_rsa      id_rsa.pub  known_hosts</code></pre></li>
</ul>
<h3 id="配置-vultr">配置 Vultr</h3>
<ul>
<li>将公钥拷贝到 vps 的/root/.ssh 目录下， 并改名为 authorized_keys<pre><code>scp id_rsa.pub root@40.82.48.232:/root/.ssh</code></pre></li>
<li>修改 sshd_config 配置文件 vi /etc/ssh/sshd_config<pre><code>RSAAuthentication yes #RSA认证
PubkeyAuthentication yes #开启公钥验证
AuthorizedKeysFile .ssh/authorized_keys #验证文件路径
PasswordAuthentication no #禁止密码认证
PermitEmptyPasswords no #禁止空密码</code></pre></li>
<li>重启 SSH 服务，centos7, ubuntu 使用命令 systemctl restart sshd，centos6 使用命令/etc/init.d/sshd restart</li>
</ul>
