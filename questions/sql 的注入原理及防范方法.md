---
title: sql 的注入原理及防范方法
tags: [DB]
type: SHORT_ANSWER
date: 2018-5-06 18:10:20
---

通常服务器端都会根据客户端的请求来动态构建 sql 执行语句，sql 注入是通过将恶意的 sql 语句添加到应用的输入参数中，从而在 sql 服务器后台解析执行。

防范方法:

- sql 语句预编译和绑定变量

  sql 执行命令必须先通过语法分析，生成执行计划，预编译后不管注入的参数是什么都不会再执行，而是当作字符串字面值进行处理。

- 严格检查参数

  只执行规定格式的参数可以避免部分的 sql 注入。

- 使用安全函数

  安全函数将参数的特殊字符进行编码，这样 sql 引擎就不会将参数当成 sql 语句进行解析了。
